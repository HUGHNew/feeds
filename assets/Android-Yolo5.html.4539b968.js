import{r as s,o as t,c as r,a as n,b as a,F as l,d as e,e as c}from"./app.7d274c27.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const d={},p=n("h1",{id:"yolov5-android\u521D\u4F53\u9A8C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yolov5-android\u521D\u4F53\u9A8C","aria-hidden":"true"},"#"),e(" Yolov5-Android\u521D\u4F53\u9A8C")],-1),u=n("h2",{id:"\u6846\u67B6\u548C\u73AF\u5883",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6846\u67B6\u548C\u73AF\u5883","aria-hidden":"true"},"#"),e(" \u6846\u67B6\u548C\u73AF\u5883")],-1),h=n("p",null,"\u4E24\u4E2A\u53EF\u7528yolov5-demo\u7A0B\u5E8F",-1),_=e("ncnn\u6846\u67B6\u7684"),m={href:"https://github.com/nihui/ncnn-android-yolov5/",target:"_blank",rel:"noopener noreferrer"},b=e("demo"),k=e("PyTorch\u5B98\u65B9"),g={href:"https://github.com/pytorch/android-demo-app/tree/master/ObjectDetection",target:"_blank",rel:"noopener noreferrer"},x=e("demo"),v=n("p",null,"\u672C\u6587\u57FA\u4E8Encnn\u6846\u67B6\u7684yolov5-demo\u8FDB\u884C\u5C1D\u8BD5\u4F7F\u7528",-1),f=n("h2",{id:"\u5B9E\u9645\u64CD\u4F5C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5B9E\u9645\u64CD\u4F5C","aria-hidden":"true"},"#"),e(" \u5B9E\u9645\u64CD\u4F5C")],-1),y=e("clone "),q={href:"https://github.com/nihui/ncnn-android-yolov5/",target:"_blank",rel:"noopener noreferrer"},A=e("YoloV5 demo project"),N=e("\u4E0B\u8F7D "),D={href:"https://github.com/Tencent/ncnn/releases",target:"_blank",rel:"noopener noreferrer"},V=e("vulkan"),w=c(`<p>\u4E24\u8005\u89E3\u538B\u4E4B\u540E \u8BB0\u4F4F\u4E24\u8005\u7684\u4F4D\u7F6E</p><p>\u7528Android Studio\u6253\u5F00demo\u9879\u76EE</p><p>\u4E0B\u8F7D\u9700\u8981\u7684\u7EC4\u4EF6(Tools-&gt;SDK Manager-&gt;SDK Tools)</p><ul><li>SDK:29.0.2</li><li>NDK:21.0.6113669(\u6211\u4E0B\u7684\u8FD9\u4E2A \u66F4\u65B0\u7684\u5E94\u8BE5\u4E5F\u884C)</li><li>Android Platform 24</li><li>cmake 3.10 (\u9700\u8981\u5355\u72EC\u4E0B\u8F7D <strong>ninja</strong>) <s>\u4E5F\u6216\u8005\u662F\u5728AS\u4E0B\u8F7Dcmake</s></li></ul><div class="language-cmake ext-cmake line-numbers-mode"><pre class="language-cmake"><code><span class="token comment"># \u6211\u6CA1\u6709\u89E3\u538B vulkan \u5230 \`cpp/include/\` \u8DEF\u5F84\u4E0B \u800C\u662F\u653E\u5728\u4E86\u5916\u90E8 \u8FD9\u4E2A\u8DEF\u5F84\u6839\u636E\u5B9E\u9645\u8BBE\u7F6E</span>
<span class="token keyword">set</span><span class="token punctuation">(</span>Vulkan ../../../../../ncnn-<span class="token number">20210720</span>-android-vulkan/<span class="token punctuation">)</span>
<span class="token keyword">set</span><span class="token punctuation">(</span>ncnn_DIR <span class="token punctuation">\${</span><span class="token variable">CMAKE_SOURCE_DIR</span><span class="token punctuation">}</span>/<span class="token punctuation">\${</span>Vulkan<span class="token punctuation">}</span>/<span class="token punctuation">\${</span>ANDROID_ABI<span class="token punctuation">}</span>/lib/cmake/ncnn<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E5F\u53EF\u4EE5 <code>build.gradle</code> \u4E2D\u6DFB\u52A0 <code>x86</code> \u652F\u6301\u65B9\u4FBF avd</p><div class="language-gradle ext-gradle line-numbers-mode"><pre class="language-gradle"><code>ndk {
        moduleName &quot;ncnn&quot;
        abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;,&quot;x86&quot; // add &quot;x86&quot;
    }
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u91CD\u65B0\u6253\u5F00\u4E00\u4E0BAS \u6253\u5F00avd\u5C31\u80FD\u8DD1\u8D77\u6765\u4E86</p><h2 id="\u6A21\u578B\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#\u6A21\u578B\u8F6C\u6362" aria-hidden="true">#</a> \u6A21\u578B\u8F6C\u6362</h2><blockquote><p>YoloV5 \u63D0\u4F9B\u7684\u6A21\u578B\u4E3Apt\u683C\u5F0F NCNN \u6240\u9700\u8981\u7684\u6A21\u578B\u683C\u5F0F\u4E3A bin \u548C param</p></blockquote><p>\u6240\u4EE5\u9700\u8981\u505A\u6A21\u578B\u8F6C\u6362</p><p>\u8DEF\u5F84\u5982\u4E0B: pt --(\u5B98\u65B9export.py)-&gt;onnx--(onnxsim)-&gt;sim-onnx--(ncnn\u5B98\u65B9\u63D0\u4F9Bonnx2ncnn)--&gt;ncnn(.bin/.param)</p>`,12),S=e("ncnn\u5B98\u65B9\u8FDE\u63A5"),T={href:"https://github.com/Tencent/ncnn/wiki/use-ncnn-with-pytorch-or-onnx",target:"_blank",rel:"noopener noreferrer"},I=e("https://github.com/Tencent/ncnn/wiki/use-ncnn-with-pytorch-or-onnx"),j=n("h3",{id:"\u5177\u4F53\u64CD\u4F5C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5177\u4F53\u64CD\u4F5C","aria-hidden":"true"},"#"),e(" \u5177\u4F53\u64CD\u4F5C")],-1),C=n("ol",null,[n("li",null,[n("code",null,"python export.py --weight _wt")]),n("li",null,[e("["),n("code",null,"python -m onnxsim _model.onnx _model-sim.onnx"),e("]")]),n("li",null,[n("code",null,"python onnx2ncnn _.onnx")])],-1),E={href:"https://github.com/HughClub/YoloV5-Android",target:"_blank",rel:"noopener noreferrer"},K=e("\u539F\u6587\u5730\u5740");function Y(B,R){const o=s("ExternalLinkIcon");return t(),r(l,null,[p,u,h,n("ol",null,[n("li",null,[_,n("a",m,[b,a(o)])]),n("li",null,[k,n("a",g,[x,a(o)])])]),v,f,n("p",null,[y,n("a",q,[A,a(o)])]),n("p",null,[N,n("a",D,[V,a(o)])]),w,n("p",null,[S,n("a",T,[I,a(o)])]),j,C,n("p",null,[n("a",E,[K,a(o)])])],64)}var $=i(d,[["render",Y]]);export{$ as default};
