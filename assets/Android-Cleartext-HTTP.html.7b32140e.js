import{r as e,o as p,c as o,a as n,b as s,F as c,e as l,d as t}from"./app.7d274c27.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const u={},i=l(`<h1 id="android-\u4F7F\u7528http\u660E\u6587\u901A\u4FE1" tabindex="-1"><a class="header-anchor" href="#android-\u4F7F\u7528http\u660E\u6587\u901A\u4FE1" aria-hidden="true">#</a> Android \u4F7F\u7528HTTP\u660E\u6587\u901A\u4FE1</h1><blockquote><p>\u5BF9\u4E8E\u81EA\u5DF1\u7684\u6D4B\u8BD5\u7528\u7F51\u7AD9 \u5F04\u4E2ASSL\u8BC1\u4E66\u4E5F\u662F\u6BD4\u8F83\u9EBB\u70E6 \u6240\u4EE5\u4F7F\u7528HTTP\u660E\u6587\u901A\u4FE1</p><p>\u4F46 Android8.1 \u4E4B\u540E \u9ED8\u8BA4\u5173\u95ED\u660E\u6587\u901A\u4FE1</p><p>Starting with Android 9 (API level 28), cleartext support is disabled by default.</p></blockquote><h2 id="\u521B\u5EFA-network-security-config-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA-network-security-config-\u914D\u7F6E" aria-hidden="true">#</a> \u521B\u5EFA network_security_config \u914D\u7F6E</h2><p>\u521B\u5EFA\u6587\u4EF6 <code>res/xml/network_security_config.xml</code></p><p>\u4E0B\u5217\u4E24\u4E2A\u914D\u7F6E\u4EFB\u9009\u4E00\u4E2A</p><h3 id="\u6307\u5B9A\u901A\u884C\u57DF\u540D" tabindex="-1"><a class="header-anchor" href="#\u6307\u5B9A\u901A\u884C\u57DF\u540D" aria-hidden="true">#</a> \u6307\u5B9A\u901A\u884C\u57DF\u540D</h3><p>\u6307\u5B9A\u57DF\u540D</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain</span> <span class="token attr-name">includeSubdomains</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>api.example.com(to be adjusted)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>domain</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>domain-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="\u5168\u57DF\u901A\u884C" tabindex="-1"><a class="header-anchor" href="#\u5168\u57DF\u901A\u884C" aria-hidden="true">#</a> \u5168\u57DF\u901A\u884C</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="\u66F4\u6539-androidmanifest" tabindex="-1"><a class="header-anchor" href="#\u66F4\u6539-androidmanifest" aria-hidden="true">#</a> \u66F4\u6539 AndroidManifest</h2><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">android:</span>targetSandboxVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
        <span class="token attr-name">...</span>
        <span class="token attr-name"><span class="token namespace">android:</span>networkSecurityConfig</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/network_security_config<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>usesCleartextTraffic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a> \u53C2\u8003</h2>`,13),k={href:"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted",target:"_blank",rel:"noopener noreferrer"},d=t("Android8 \u5141\u8BB8HTTP\u660E\u6587"),m={href:"https://developer.android.com/training/articles/security-config?hl=zh-cn#FileFormat",target:"_blank",rel:"noopener noreferrer"},g=t("\u7F51\u7EDC\u5B89\u5168\u914D\u7F6E");function b(h,f){const a=e("ExternalLinkIcon");return p(),o(c,null,[i,n("ul",null,[n("li",null,[n("a",k,[d,s(a)])]),n("li",null,[n("a",m,[g,s(a)])])])],64)}var _=r(u,[["render",b]]);export{_ as default};
